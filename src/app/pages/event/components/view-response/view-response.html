@if (user()) {
  <div class="flex items-start gap-5 mb-6">
    <div class="relative w-[40px] h-[40px] shrink-0 rounded-full overflow-hidden">
      <img
        fill
        placeholder
        [alt]="user()?.name || 'User image'"
        (error)="onImageError($event)"
        [ngSrc]="getImageUrl(user().thumbnail_url)"
        class="object-cover"
      />
    </div>

    <div>
      <div class="body-16SB">
        {{ user().name }}
      </div>
      <div class="body-12 neutral-02">Submitted {{ user()?.submitted_at | date: 'd MMM yyyy,  h:mm a' }}</div>
    </div>
  </div>
}

<div class="flex flex-col gap-5">
  @for (item of questions(); track item.id) {
    <div class="flex flex-col gap-1">
      <div class="body-14M neutral-02">
        {{ item.question }}
      </div>

      <!-- Text Answer -->
      @if (item.question_type === 'Text' || item.question_type === 'PhoneNumber' || item.question_type === 'Number') {
        <div class="rounded-xl border border-surface-300 px-3 py-2 body-14M neutral-01">
          {{ item.answer }}
        </div>
      }

      <!-- Chips Answer -->
      @if (item.question_type === 'SingleChoice' || item.question_type === 'MultipleChoice') {
        <div class="flex flex-wrap gap-2">
          @for (chip of item.answer_options; track chip) {
            <span class="rounded-xl border border-surface-300 px-3 py-1.5 body-14M neutral-01">
              {{ chip.option }}
            </span>
          }
        </div>
      }

      <!-- Scale Answer -->
      @if (item.question_type === 'Rating') {
        <div class="rounded-xl border border-surface-300 px-3 py-1 body-14M neutral-01">
          <span class="heading-h3">{{ item.answer }}</span> / {{ item.rating_scale }}
        </div>
      }
    </div>
  }
</div>
