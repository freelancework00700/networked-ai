<ion-refresher slot="fixed" (ionRefresh)="onRefresh($event)" mode="md">
  <ion-refresher-content mode="md"></ion-refresher-content>
</ion-refresher>

@if (users().length === 0 && !isLoading()) {
  <app-empty-state
    [title]="searchQuery().trim() ? 'No Network Found' : 'No Connections'"
    [message]="searchQuery().trim() ? 'Check your spelling or try searching for a different keyword.' : 'You don\'t have any connections yet.'"
    icon="assets/svg/noUserIcon.svg"
    iconStyle="network"
    [showClearButton]="!!searchQuery().trim()"
    (clear)="clearSearch.emit()"
  />
} @else {
  @for (user of users(); track user.id) {
    <user-card-list [user]="user" />
  }
  
  @if (hasMore()) {
    <ion-infinite-scroll threshold="100px" (ionInfinite)="loadMoreUsers($event)">
      <ion-infinite-scroll-content loadingSpinner="bubbles" loadingText="Loading more users..." />
    </ion-infinite-scroll>
  }
}
